if (self.CavalryLogger) { CavalryLogger.start_js(["sMYYg"]); }

__d("MessengerDragAndDrop.react",["Bootloader","BootloadOnRender.react","FantaDragAndDropRow.react","JSResource","LazyComponent.react","MercuryShareAttachmentRenderLocations","MessengerEnvironment","React","emptyFunction","gkx","ifRequired"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=960;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);g=d&&d.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.$3=function(a){this.$7(function(b){b.removeSharePreview(a)})}.bind(this),this.$4=function(a,b){this.$7(function(c){c.loadedShareData(a,b)})}.bind(this),this.$5=function(a){this.$7(function(b){b.loadingShareData(a)})}.bind(this),b}a.prototype.componentDidMount=function(){b("MessengerEnvironment").messengerui?b("Bootloader").loadModules(["MessengerActions"],b("emptyFunction"),"MessengerDragAndDrop.react"):b("Bootloader").loadModules(["FantaMessageActions"],b("emptyFunction"),"MessengerDragAndDrop.react")};a.prototype.shouldComponentUpdate=function(a){var b=this.props;return b.threadID!==a.threadID||!!(!b.uploadingFiles&&a.uploadingFiles)||!!(b.uploadingFiles&&a.uploadingFiles&&!b.uploadingFiles.equals(a.uploadingFiles))||!!(!b.uploadedFiles&&a.uploadedFiles)||!!(b.uploadedFiles&&a.uploadedFiles&&!b.uploadedFiles.equals(a.uploadedFiles))||!!(!b.sharePreview&&a.sharePreview)||!!(b.sharePreview&&a.sharePreview&&!b.sharePreview.equals(a.sharePreview))};a.prototype.render=function(){var a=this.props,c=a.uploadedFiles,d=a.uploadingFiles,e=a.sharePreview;a=a.threadID;e=e||{};var f=e.share;e=e.uri;return b("React").createElement("div",{className:"fbNubFlyoutAttachments"},b("React").createElement("div",{className:"chatAttachmentShelf"},f||e?b("React").createElement(b("BootloadOnRender.react"),{loader:b("JSResource")("MercurySharePreview.react").__setRef("MessengerDragAndDrop.react"),placeholder:b("React").createElement("div",null),component:b("React").createElement(b("LazyComponent.react"),{onClose:this.$3,onLoaded:this.$4,onLoading:this.$5,threadID:a,imageSize:{width:h,height:h},location:b("MercuryShareAttachmentRenderLocations").CHAT_PREVIEW,share:f,uri:e})}):null,!b("gkx")("AT5V6GuV7OE1f4CNmq1NUhZOeDrgnZF-AQ7WoOvZA8jFMJsYzyghwU79Bm31vgH-mi9DAlUGSFnfYvhwjhMfTolYEEzHhgUrhLD2UxTqbooHHw")&&b("React").createElement("div",{ref:function(a){this.$1=a}.bind(this)},this.$6(d,!1),this.$6(c,!0))))};a.prototype.$7=function(a){b("MessengerEnvironment").messengerui?b("ifRequired")("MessengerActions",function(b){a(b)},function(){b("Bootloader").loadModules(["MessengerActions"],function(b){a(b)},"MessengerDragAndDrop.react")}):b("ifRequired")("FantaMessageActions",function(b){a(b)},function(){b("Bootloader").loadModules(["FantaMessageActions"],function(b){a(b)},"MessengerDragAndDrop.react")})};a.prototype.$6=function(a,c){var d=this.props.threadID;return a&&a.map(function(a){return b("React").createElement(b("FantaDragAndDropRow.react"),{fileData:a,isUploaded:c,key:c?"uped-"+a.id:"uping-"+a.id,threadID:d})}).toArray()};a.propTypes={threadID:c.string.isRequired,uploadedFiles:c.object,uploadingFiles:c.object};e.exports=a}),null);
__d("UFI2CommentBodyMathExpression.react",["cx","React","katex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("React").createElement("span",{className:"_3_3l",dangerouslySetInnerHTML:{__html:b("katex").renderToString(a.expression,{displayMode:a.isBlockElement,throwOnError:!1})}})}e.exports=a}),null);